<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客列表</title>
    <link rel="stylesheet" href="css/blog_list.css">
    <link rel="stylesheet" href="css/mybloglist_bloglist.css">
    <link rel="stylesheet" href="css/pagination.css">
    <style>
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 50px;
        }

        .container {
            padding-top: 80px;
            height: auto;
        }

        .container-right {
            width: auto;
        }

        .blog-pagnation-wrapper {
            display: flex;
            height: 40px;
            margin: 16px 0;
            justify-content: center;
        }
    </style>
</head>

<body>
    <!-- 导航栏 -->
    <div class="nav">
        <img src="img/logo.jpg" alt="">
        <span class="title">我的博客系统</span>
        <!-- 用来占据中间位置 -->
        <span class="spacer"></span>
        <a href="blog_list.html">主页</a>
        <a href="blog_edit.html">写博客</a>
        <a href="login.html">登陆</a>
        <!-- <a href="#">注销</a> -->
    </div>
    <!-- 版心 -->
    <div class="container">
        <!-- 右侧内容详情 -->
        <div class="container-right">
            <!-- 每一篇博客包含标题, 摘要, 时间 -->
            <div class="blog">
                <div class="title">我的第一篇博客</div>
                <div class="date">2021-06-02</div>
                <div class="desc">
                    从今天起, 我要认真敲代码. Lorem ipsum, dolor sit amet consectetur adipisicing elit. Cum distinctio ullam eum ut
                    veroab laborum numquam tenetur est in dolorum a sint, assumenda adipisci similique quaerat vel.
                    Facere,
                    et.
                </div>
                <a href="blog_content.html?id=1" class="detail">查看全文 &gt;&gt;</a>
            </div>
            <div class="blog">
                <div class="title">我的第二篇博客</div>
                <div class="date">2021-06-02</div>
                <div class="desc">
                    从今天起, 我要认真敲代码. Lorem ipsum, dolor sit amet consectetur adipisicing elit. Cum distinctio ullam eum ut
                    veroab laborum numquam tenetur est in dolorum a sint, assumenda adipisci similique quaerat vel.
                    Facere,
                    et.
                </div>
                <a href="blog_content.html?id=2" class="detail">查看全文 &gt;&gt;</a>
            </div>
            <hr>
        </div>
        <div class="blog-pagnation-wrapper">
            <!-- <button class="blog-pagnation-item">首页</button>
            <button class="blog-pagnation-item">上一页</button>
            <button class="blog-pagnation-item">下一页</button>
            <button class="blog-pagnation-item">末页</button> -->
        </div>
    </div>
</body>
<script src="./js/jquery.min.js"></script>
<script src="./js/pagination.min.js"></script>
<script type="module">
    import request from './js/request.js';
    function loadData(page, pageSize) {
        request({
            url: "http://127.0.0.1:8080/article/list",
            method: "get",
            params: {
                page,
                pageSize,
            }
        }).then(res => {
            console.log(`page=${page},pageSize=${pageSize}加载的数据`, res);
        })
    }
    window.onload = () => {
        loadData(1, 5);
    }
    // 分页插件
    $('.blog-pagnation-wrapper').pagination({
        dataSource: ['44', '2', '3', '4', '44', '2', '3', '4', '44', '2', '3', '4', '44', '2', '3', '4', '44', '2', '3', '4', '44', '2', '3', '4', '44', '2', '3', '4'],
        pageSize: 5,
        showSizeChanger: true,
        callback: function (data, pagination) {
            const {pageNumber, pageSize} = pagination;
            loadData(pageNumber, pageSize);
        }
    })
</script>

</html>